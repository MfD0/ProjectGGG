{"version":3,"file":"auth.js","sources":["../src/js/auth.js"],"sourcesContent":["import { getUsers, addUser } from './api.js';\n\nconsole.log(\"auth.js\");\n\n// Авторизація\ndocument.getElementById(\"loginForm\").addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    const username = document.getElementById(\"username\").value;\n    const password = document.getElementById(\"password\").value;\n\n    try {\n        const users = await getUsers();\n        const user = users.find((u) => u.username === username && u.password === password);\n\n        if (user) {\n            localStorage.setItem(\"activeUser\", user.id);\n            alert(\"Успішний вхід!\");\n            window.location.href = \"index.html\";\n        } else {\n            alert(\"Невірний логін або пароль.\");\n        }\n    } catch (error) {\n        console.error(\"Помилка авторизації:\", error);\n    }\n});\n\n// Реєстрація\ndocument.getElementById(\"registerForm\").addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    const username = document.getElementById(\"registerUsername\").value;\n    const password = document.getElementById(\"registerPassword\").value;\n\n    try {\n        await addUser({ username, password, cart: [] });\n        alert(\"Успішна реєстрація!\");\n        window.location.href = \"auth.html\";\n    } catch (error) {\n        console.error(\"Помилка реєстрації:\", error);\n    }\n});\n"],"names":["e","username","password","user","getUsers","u","error","addUser"],"mappings":"0HAEA,QAAQ,IAAI,SAAS,EAGrB,SAAS,eAAe,WAAW,EAAE,iBAAiB,SAAU,MAAOA,GAAM,CACzEA,EAAE,eAAc,EAChB,MAAMC,EAAW,SAAS,eAAe,UAAU,EAAE,MAC/CC,EAAW,SAAS,eAAe,UAAU,EAAE,MAErD,GAAI,CAEA,MAAMC,GADQ,MAAMC,KACD,KAAMC,GAAMA,EAAE,WAAaJ,GAAYI,EAAE,WAAaH,CAAQ,EAE7EC,GACA,aAAa,QAAQ,aAAcA,EAAK,EAAE,EAC1C,MAAM,gBAAgB,EACtB,OAAO,SAAS,KAAO,cAEvB,MAAM,4BAA4B,CAEzC,OAAQG,EAAO,CACZ,QAAQ,MAAM,uBAAwBA,CAAK,CAC9C,CACL,CAAC,EAGD,SAAS,eAAe,cAAc,EAAE,iBAAiB,SAAU,MAAON,GAAM,CAC5EA,EAAE,eAAc,EAChB,MAAMC,EAAW,SAAS,eAAe,kBAAkB,EAAE,MACvDC,EAAW,SAAS,eAAe,kBAAkB,EAAE,MAE7D,GAAI,CACA,MAAMK,EAAQ,CAAE,SAAAN,EAAU,SAAAC,EAAU,KAAM,CAAE,CAAA,CAAE,EAC9C,MAAM,qBAAqB,EAC3B,OAAO,SAAS,KAAO,WAC1B,OAAQI,EAAO,CACZ,QAAQ,MAAM,sBAAuBA,CAAK,CAC7C,CACL,CAAC"}