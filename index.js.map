{"version":3,"file":"index.js","sources":["../src/js/scrolltop.js","../src/js/topGame.js"],"sourcesContent":["// Get the scrollTop button\nconst scrollTopButton = document.getElementById(\"scrollTopButton\");\n\n// Show or hide the button when scrolling\nwindow.onscroll = function () {\n  if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {\n    scrollTopButton.classList.add(\"active\");\n  } else {\n    scrollTopButton.classList.remove(\"active\");\n  }\n};\n\n// Scroll to the top when clicking the button\nscrollTopButton.onclick = function () {\n  window.scrollTo({\n    top: 0,\n    behavior: \"smooth\"\n  });\n};","import { getAllCategories, getBooksByTags } from './infoFromDB.js';\n\n// Витягаємо всі категорії з бази даних\nconst categories = getAllCategories();\n\n// !!!!\n// Функція для створення HTML для карточки гри\nfunction createGameCard(game) {\n\n    return `\n    <li id=\"${game.id}\" class=\"listener\" onclick=\"openModal('${game.id}')\">\n        <div class=\"game-category-card\">\n            <div class=\"overlay-div\">\n                <img class=\"gameByCategory-img\" src=\"${game.image}\" alt=\"${game.title}\">\n                <p class=\"overlay-txt\">quick view</p>\n            </div>\n            <div class=\"game-category-details\">\n                <h3 class=\"game-category-title\">${game.title}</h3>\n                <p class=\"game-category-author\">${game.author}</p>\n            </div>\n        </div>\n    </li>\n    `;\n}\n\n// Функція для завантаження ігор у відповідну категорію\nfunction loadGames(categoryName, games) {\n    const categoryElement = document.querySelector(`.game-category[data-category=\"${categoryName}\"]`);\n    if (categoryElement) {\n        const loader = categoryElement.querySelector('.mask');\n        const gamesHTML = games\n            .map((game) => createGameCard(game))\n            .join('');\n\n        const gamesListElement = categoryElement.querySelector('.games-category-list');\n        gamesListElement.innerHTML = gamesHTML;\n        // Приховуємо лоадер, коли карточки завантажені\n        loader.style.display = 'none';\n    }\n}\n\n// Функція для отримання та відображення ігор по категоріям\nconst topGames = getBooksByTags(categories);\n\nexport function fetchAndDisplayGames() {\n    // Перебираємо всі категорії у topGames\n    Object.keys(topGames).forEach(categoryName => {\n        // Отримуємо список ігор для поточної категорії\n        const games = topGames[categoryName];\n\n        // Завантажуємо ігри у відповідний контейнер для цієї категорії\n        loadGames(categoryName, games);\n    });\n}\n\n\n// Функція для створення HTML контейнера категорії\nfunction createCategoryContainer(categoryName) {\n    console.log(\"createCategoryContainer\");\n    const container = document.createElement('div');\n    container.className = 'game-category';\n    container.setAttribute('data-category', categoryName);\n\n    const titleDiv = document.createElement('div');\n    titleDiv.className = 'category-title';\n\n    const loaderDiv = document.createElement('div');\n    loaderDiv.className = 'mask';\n    loaderDiv.innerHTML = '<div class=\"loader\"></div>';\n\n    const titleSpan = document.createElement('span');\n    titleSpan.textContent = categoryName.toUpperCase();\n    titleDiv.appendChild(titleSpan);\n\n    const gamesDiv = document.createElement('div');\n    gamesDiv.className = 'games';\n    const ul = document.createElement('ul');\n    ul.className = 'games-category-list';\n    gamesDiv.appendChild(ul);\n\n    const button = document.createElement('button');\n    button.id = categoryName.replace(/\\s+/g, '_');\n    button.classList.add('see-more');\n    button.textContent = 'SEE MORE';\n\n    // Встановлення обробника події через addEventListener\n    button.addEventListener('click', scrollFuc);\n\n    container.appendChild(titleDiv);\n    container.appendChild(loaderDiv);\n    container.appendChild(gamesDiv);\n    container.appendChild(button);\n\n    return container;\n}\n\nfunction scrollFuc() {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n\n// Функція для отримання категорій та додавання контейнерів до DOM\nexport function fetchAndDisplayCategories() {\n    const topGamesList = document.querySelector('.top-games-list');\n    console.log(\"fetchAndDisplayCategories\");\n\n    // Припускаємо, що змінна `categories` вже існує і містить масив категорій\n    categories.forEach(category => {\n        const categoryContainer = createCategoryContainer(category); // Використовуємо категорію напряму\n        topGamesList.appendChild(categoryContainer);\n    });\n}\n\n\n\n\n\n\n\n\n//! Виклик функції при завантаженні сторінки\ndocument.addEventListener('DOMContentLoaded', () => {\n    fetchAndDisplayCategories();\n    fetchAndDisplayGames();\n});\n\n\n"],"names":["scrollTopButton","categories","getAllCategories","createGameCard","game","loadGames","categoryName","games","categoryElement","loader","gamesHTML","gamesListElement","topGames","getBooksByTags","fetchAndDisplayGames","createCategoryContainer","container","titleDiv","loaderDiv","titleSpan","gamesDiv","ul","button","scrollFuc","fetchAndDisplayCategories","topGamesList","category","categoryContainer"],"mappings":"qDACA,MAAMA,EAAkB,SAAS,eAAe,iBAAiB,EAGjE,OAAO,SAAW,UAAY,CACxB,SAAS,KAAK,UAAY,KAAO,SAAS,gBAAgB,UAAY,IACxEA,EAAgB,UAAU,IAAI,QAAQ,EAEtCA,EAAgB,UAAU,OAAO,QAAQ,CAE7C,EAGAA,EAAgB,QAAU,UAAY,CACpC,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QACd,CAAG,CACH,ECfA,MAAMC,EAAaC,EAAgB,EAInC,SAASC,EAAeC,EAAM,CAE1B,MAAO;AAAA,cACGA,EAAK,EAAE,0CAA0CA,EAAK,EAAE;AAAA;AAAA;AAAA,uDAGfA,EAAK,KAAK,UAAUA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,kDAInCA,EAAK,KAAK;AAAA,kDACVA,EAAK,MAAM;AAAA;AAAA;AAAA;AAAA,KAK7D,CAGA,SAASC,EAAUC,EAAcC,EAAO,CACpC,MAAMC,EAAkB,SAAS,cAAc,iCAAiCF,CAAY,IAAI,EAChG,GAAIE,EAAiB,CACjB,MAAMC,EAASD,EAAgB,cAAc,OAAO,EAC9CE,EAAYH,EACb,IAAKH,GAASD,EAAeC,CAAI,CAAC,EAClC,KAAK,EAAE,EAENO,EAAmBH,EAAgB,cAAc,sBAAsB,EAC7EG,EAAiB,UAAYD,EAE7BD,EAAO,MAAM,QAAU,MAC1B,CACL,CAGA,MAAMG,EAAWC,EAAeZ,CAAU,EAEnC,SAASa,GAAuB,CAEnC,OAAO,KAAKF,CAAQ,EAAE,QAAQN,GAAgB,CAE1C,MAAMC,EAAQK,EAASN,CAAY,EAGnCD,EAAUC,EAAcC,CAAK,CACrC,CAAK,CACL,CAIA,SAASQ,EAAwBT,EAAc,CAC3C,QAAQ,IAAI,yBAAyB,EACrC,MAAMU,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAY,gBACtBA,EAAU,aAAa,gBAAiBV,CAAY,EAEpD,MAAMW,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAY,iBAErB,MAAMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAY,OACtBA,EAAU,UAAY,6BAEtB,MAAMC,EAAY,SAAS,cAAc,MAAM,EAC/CA,EAAU,YAAcb,EAAa,cACrCW,EAAS,YAAYE,CAAS,EAE9B,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAY,QACrB,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAY,sBACfD,EAAS,YAAYC,CAAE,EAEvB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9C,OAAAA,EAAO,GAAKhB,EAAa,QAAQ,OAAQ,GAAG,EAC5CgB,EAAO,UAAU,IAAI,UAAU,EAC/BA,EAAO,YAAc,WAGrBA,EAAO,iBAAiB,QAASC,CAAS,EAE1CP,EAAU,YAAYC,CAAQ,EAC9BD,EAAU,YAAYE,CAAS,EAC/BF,EAAU,YAAYI,CAAQ,EAC9BJ,EAAU,YAAYM,CAAM,EAErBN,CACX,CAEA,SAASO,GAAY,CACjB,OAAO,SAAS,CAAE,IAAK,EAAG,SAAU,QAAQ,CAAE,CAClD,CAGO,SAASC,GAA4B,CACxC,MAAMC,EAAe,SAAS,cAAc,iBAAiB,EAC7D,QAAQ,IAAI,2BAA2B,EAGvCxB,EAAW,QAAQyB,GAAY,CAC3B,MAAMC,EAAoBZ,EAAwBW,CAAQ,EAC1DD,EAAa,YAAYE,CAAiB,CAClD,CAAK,CACL,CASA;AACA,SAAS,iBAAiB,mBAAoB,IAAM,CAChDH,IACAV,GACJ,CAAC"}