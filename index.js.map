{"version":3,"file":"index.js","sources":["../src/js/scrolltop.js","../src/js/topGame.js","../src/js/categoryToggle.js","../src/js/modalWindow.js","../src/js/aboutModalWindow.js","../src/js/feedbackModalWindow.js","../src/js/reviewsModalWindow.js","../src/js/updateLogin.js"],"sourcesContent":["// Get the scrollTop button\nconst scrollTopButton = document.getElementById(\"scrollTopButton\");\n\n// Show or hide the button when scrolling\nwindow.onscroll = function () {\n  if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {\n    scrollTopButton.classList.add(\"active\");\n  } else {\n    scrollTopButton.classList.remove(\"active\");\n  }\n};\n\n// Scroll to the top when clicking the button\nscrollTopButton.onclick = function () {\n  window.scrollTo({\n    top: 0,\n    behavior: \"smooth\"\n  });\n};","import { getAllCategories, getBooksByTags, getGameByID } from './infoFromDB.js';\n\n// Витягаємо всі категорії з бази даних\nconst categories = getAllCategories();\n\n// Об'єкт, що містить всі ігри, розбиті за категоріями\nconst topGames = getBooksByTags(categories);\n\n// Функція для створення HTML для карточки гри\nfunction createGameCard(game) {\n    return `\n    <li id=\"${game.id}\" class=\"listener\" onclick=\"openModal('${game.id}')\">\n        <div class=\"game-category-card\">\n            <div class=\"overlay-div\">\n                <img class=\"gameByCategory-img\" src=\"${game.image}\" alt=\"${game.title}\">\n                <p class=\"overlay-txt\">quick view</p>\n            </div>\n            <div class=\"game-category-details\">\n                <h3 class=\"game-category-title\">${game.title}</h3>\n                <p class=\"game-category-author\">${game.author}</p>\n            </div>\n        </div>\n    </li>\n    `;\n}\n\n// Функція для завантаження ігор у відповідну категорію\nfunction loadGames(categoryName, games) {\n    const categoryElement = document.querySelector(`.game-category[data-category=\"${categoryName}\"]`);\n    if (categoryElement) {\n        const loader = categoryElement.querySelector('.mask');\n        const gamesHTML = games\n            .map((game) => createGameCard(game))\n            .join('');\n\n        const gamesListElement = categoryElement.querySelector('.games-category-list');\n        gamesListElement.innerHTML = gamesHTML;\n        // Приховуємо лоадер, коли карточки завантажені\n        loader.style.display = 'none';\n    }\n}\n\n// Функція для отримання та відображення ігор по категоріям\nexport function fetchAndDisplayGames() {\n    // Перебираємо всі категорії у topGames\n    Object.keys(topGames).forEach(categoryName => {\n        // Отримуємо список ігор для поточної категорії\n        const games = topGames[categoryName];\n\n        // Завантажуємо ігри у відповідний контейнер для цієї категорії\n        loadGames(categoryName, games);\n    });\n}\n\n// Функція для створення HTML контейнера категорії\nfunction createCategoryContainer(categoryName) {\n    const container = document.createElement('div');\n    container.className = 'game-category';\n    container.setAttribute('data-category', categoryName);\n\n    const titleDiv = document.createElement('div');\n    titleDiv.className = 'category-title';\n\n    const loaderDiv = document.createElement('div');\n    loaderDiv.className = 'mask';\n    loaderDiv.innerHTML = '<div class=\"loader\"></div>';\n\n    const titleSpan = document.createElement('span');\n    titleSpan.textContent = categoryName.toUpperCase();\n    titleDiv.appendChild(titleSpan);\n\n    const gamesDiv = document.createElement('div');\n    gamesDiv.className = 'games';\n    const ul = document.createElement('ul');\n    ul.className = 'games-category-list';\n    gamesDiv.appendChild(ul);\n\n    const button = document.createElement('button');\n    button.id = categoryName.replace(/\\s+/g, '_'); // Унікальний ID для кнопки\n    button.classList.add('see-more');\n    button.textContent = 'SEE MORE';\n\n    // Встановлення обробника події через addEventListener\n    button.addEventListener('click', scrollFuc);\n\n    container.appendChild(titleDiv);\n    container.appendChild(loaderDiv);\n    container.appendChild(gamesDiv);\n    container.appendChild(button);\n\n    return container;\n}\n\n// Функція для обробки кнопки \"SEE MORE\"\nfunction scrollFuc(event) {\n    const button = event.target; \n    const categoryName = button.id.replace(/_/g, ' ');\n\n    // Знаходимо елемент у блоці Aside\n    const categoryItems = document.querySelectorAll('.category-item');\n    categoryItems.forEach(item => {\n        item.classList.remove('active-category');\n        if (item.textContent.trim() === categoryName.trim()) {\n            item.classList.add('active-category');\n        }\n    });\n\n    // Очищення glow-ефектів\n    const glowEffects = document.querySelectorAll('.glow-effect');\n    glowEffects.forEach(effect => effect.remove());\n\n    // Перезавантаження ігор\n    const games = topGames[categoryName];\n    loadGames(categoryName, games);\n\n    // Ініціалізація glow-ефектів заново\n    const glowManager = new GlowEffectsManager();\n    glowManager.updateEffects();\n}\n\n\n// Функція для отримання категорій та додавання контейнерів до DOM\nexport function fetchAndDisplayCategories() {\n    const topGamesList = document.querySelector('.top-games-list');\n\n    // Додаємо контейнер для кожної категорії\n    categories.forEach(category => {\n        const categoryContainer = createCategoryContainer(category); // Використовуємо категорію напряму\n        topGamesList.appendChild(categoryContainer);\n    });\n}\n\n// Виклик функції при завантаженні сторінки\ndocument.addEventListener('DOMContentLoaded', () => {\n    fetchAndDisplayCategories();\n    fetchAndDisplayGames();\n});\n","// categoryToggle.js\nimport { getGamesByCategory } from './infoFromDB';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const categoryButtons = document.querySelectorAll(\".category-item\");\n    const mainTitle = document.querySelector(\".topGamesTitle\");\n    const allCategoriesButton = Array.from(categoryButtons).find(btn => btn.textContent.trim() === \"All Categories\");\n    const topGamesList = document.querySelector(\".top-games-list\"); // список, в який додаються картки ігор\n\n    function checkAndActivateAllCategories() {\n        if (mainTitle.textContent.trim() === \"Most Popular Games\") {\n            categoryButtons.forEach((btn) => btn.classList.remove(\"active-category\"));\n            allCategoriesButton.classList.add(\"active-category\");\n            topGamesList.classList.remove(\"category-active\"); // Видаляємо клас, якщо активна \"All Categories\"\n        }\n    }\n\n    function resetCategories() {\n    \n\n        // Встановити заголовок за замовчуванням\n        mainTitle.innerHTML = \"Most Popular Games\";\n\n        // Видалити клас category-active, щоб стилі для карток не застосовувалися\n        topGamesList.classList.remove(\"category-active\");\n\n        // Очистити список карток, щоб видалити всі додані ігри\n        //topGamesList.innerHTML = \"\";\n\n        // Активувати кнопку \"All Categories\" і зняти активний стиль з інших\n        checkAndActivateAllCategories();\n    }\n\n    // Обробка натискання на кнопку \"All Categories\"\n    allCategoriesButton.addEventListener(\"click\", resetCategories);\n\n    categoryButtons.forEach((button) => {\n        button.addEventListener(\"click\", () => {\n            const selectedCategory = button.textContent.trim().toUpperCase();\n\n            if (selectedCategory === \"ALL CATEGORIES\") {\n                resetCategories();\n            } else {\n                // Оновлення заголовку до вибраної категорії\n                mainTitle.innerHTML = `${selectedCategory} Games`;\n\n                // Додати активний стиль до вибраної категорії та видалити з \"All Categories\"\n                categoryButtons.forEach((btn) => btn.classList.remove(\"active-category\"));\n                button.classList.add(\"active-category\");\n\n                // Показати лише вибрану категорію, а інші категорії приховати\n                document.querySelectorAll(\".game-category\").forEach((category) => {\n                    category.style.display = category.getAttribute(\"data-category\").toUpperCase() === selectedCategory ? \"block\" : \"none\";\n                });\n\n                // Додаємо клас category-active для стилів карток\n                topGamesList.classList.add(\"category-active\");\n\n                // Додав перевірку на те, чи ширина екрану є малою (<= 768 пікселів),\n                // щоб ховати список категорій після його натиснення\n                if (window.innerWidth <= 768) {\n                    const aside = document.getElementsByTagName('aside')[0];\n                    aside.style.display = 'none';\n                }\n            }\n        });\n    });\n\n    // Додаємо обробник події для всіх кнопок \"See More\"\n    document.querySelectorAll(\".see-more\").forEach(button => {\n        button.addEventListener(\"click\", () => {\n            const categoryName = button.id.replace(\"see-more-\", \"\").replace(\"_\", \" \"); // Отримуємо ім'я категорії з id кнопки\n            const games = getGamesByCategory(categoryName); // Отримуємо ігри для вибраної категорії\n\n            // Оновлення заголовка на назву вибраної категорії\n            mainTitle.innerHTML = `${categoryName} Games`;\n\n            // Сховати всі блоки категорій\n            document.querySelectorAll(\".game-category\").forEach((category) => {\n                category.style.display = \"none\";\n            });\n\n            // Очищення списку ігор перед додаванням нових карток\n            topGamesList.innerHTML = \"\";\n\n            // Додаємо ігри у вигляді карток у список .top-games-list\n            games.forEach(game => {\n                const gameCard = createGameCard(game);\n                topGamesList.appendChild(gameCard);\n            });\n\n            // Додаємо клас category-active для стилів карток\n            topGamesList.classList.add(\"category-active\");\n        });\n    });\n\n    // Перевірка заголовку при завантаженні сторінки\n    checkAndActivateAllCategories();\n});\n\n// Функція для створення HTML для картки гри\nfunction createGameCard(game) {\n    const li = document.createElement('li');\n    li.id = game.id;\n    li.className = 'listener';\n    li.setAttribute('onclick', `openModal('${game.id}')`);\n\n    li.innerHTML = `\n        <div class=\"game-category-card\">\n            <div class=\"overlay-div\">\n                <img class=\"gameByCategory-img\" src=\"${game.image}\" alt=\"${game.title}\">\n                <p class=\"overlay-txt\">quick view</p>\n            </div>\n            <div class=\"game-category-details\">\n                <h3 class=\"game-category-title\">${game.title}</h3>\n                <p class=\"game-category-author\">${game.author}</p>\n            </div>\n        </div>\n    `;\n    return li;\n}\n","// Імпорт функцій (наприклад, якщо у вас є спеціальна бібліотека для повідомлень)\nimport { getGameByID } from './infoFromDB.js';\n\nwindow.openModal = openModal;\n\nconst modal = document.querySelector('.modal');\nconst backdrop = modal.querySelector('.modal-body');\nconst closeModalButton = modal.querySelector('.modal-close');\nconst addToShoppingListButton = modal.querySelector('.add-to-list');\nconst underButtonText = modal.querySelector('.under-btn-text');\n\n// Функція для відкриття модального вікна з деталями гри\nasync function openModal(id) {\n    try {\n        const game = await getGameByID(id); // Отримуємо гру за ID\n        modal.setAttribute('data-game', JSON.stringify(game));\n        renderGameDetails(game);\n\n        modal.classList.add('open');\n        document.body.style.overflow = 'hidden'; // Блокуємо прокрутку фону\n\n        // Перевіряємо, чи користувач залогінений\n        const isLoggedIn = !!localStorage.getItem(\"activeUser\");\n\n        if (isLoggedIn) {\n            const isInList = await isGameInShoppingList(game);\n            updateShoppingListButton(isInList);\n            addToShoppingListButton.style.display = \"inline-block\"; // Показуємо кнопку\n        } else {\n            addToShoppingListButton.style.display = \"none\"; // Ховаємо кнопку\n        }\n    } catch (error) {\n        console.log('Error loading game details', error);\n    }\n}\n\n\n// Функція для відображення деталей гри у модальному вікні\nfunction renderGameDetails(game) {\n    const gameCover = document.querySelector('.game-cover');\n    const gameTitle = document.querySelector('.game-title');\n    const gameAuthor = document.querySelector('.game-author');\n    const gameDescription = document.querySelector('.game-description');\n    const steamLink = document.querySelector('.marketplace-logo.steam');\n    const trailerLink = document.querySelector('.marketplace-logo.trailer');\n\n    // Встановлюємо дані в елементи HTML\n    gameCover.src = game.image;\n    gameCover.alt = game.title;\n    gameTitle.textContent = game.title;\n    gameAuthor.textContent = `by ${game.author}`;\n    gameDescription.textContent = game.description || \"No description available\";\n\n    // Встановлюємо посилання для Steam та трейлера\n    steamLink.href = game.links.steam || '#';\n    trailerLink.href = game.links.trailer || '#';\n}\n\n// Функція для перевірки, чи є гра в списку покупок у активного користувача\nasync function isGameInShoppingList(game) {\n    const activeUserId = localStorage.getItem('activeUser');\n    if (!activeUserId) {\n        alert(\"Ви повинні увійти до системи, щоб додавати ігри до корзини.\");\n        window.location.href = 'auth.html';\n        return false;\n    }\n\n    const response = await fetch('../database/users.json');\n    const users = await response.json();\n    const user = users.find(user => user.id === parseInt(activeUserId));\n\n    if (!user) return false;\n    return user.cart.includes(game.id);\n}\n\n// Функція для оновлення кнопки \"Add to Shopping List\"\nfunction updateShoppingListButton(isGameInList) {\n    const buttonText = isGameInList ? 'Remove from shopping list' : 'Add to shopping list';\n    addToShoppingListButton.textContent = buttonText;\n\n    // Додаємо клас, щоб показати текст праворуч\n    underButtonText.textContent = isGameInList ? 'Removed from shopping list' : 'Added to shopping list';\n    addToShoppingListButton.classList.add('show-text');\n\n    // Видаляємо клас після 4 секунд, щоб текст зник\n    setTimeout(() => {\n        addToShoppingListButton.classList.remove('show-text');\n    }, 4000);\n}\n\n// Обробник для додавання/видалення гри зі списку покупок\nasync function handleShoppingListButtonClick(event) {\n    event.stopPropagation();\n\n    const activeUserId = localStorage.getItem('activeUser');\n    if (!activeUserId) {\n        alert(\"Ви повинні увійти до системи, щоб додавати ігри до корзини.\");\n        window.location.href = 'auth.html';\n        return;\n    }\n\n    const response = await fetch('../database/users.json');\n    const users = await response.json();\n    const userIndex = users.findIndex(user => user.id === parseInt(activeUserId));\n\n    if (userIndex === -1) {\n        alert(\"Помилка: Користувач не знайдений.\");\n        return;\n    }\n\n    const user = users[userIndex];\n    const game = JSON.parse(modal.getAttribute('data-game'));\n    const isGameInList = user.cart.includes(game.id);\n\n    if (isGameInList) {\n        user.cart = user.cart.filter(id => id !== game.id);\n    } else {\n        user.cart.push(game.id);\n    }\n\n    // Оновлюємо файл users.json\n    await saveUsersToJSON(users);\n    updateShoppingListButton(!isGameInList);\n}\n\n// Функція для збереження змін у users.json\nasync function saveUsersToJSON(users) {\n    await fetch('../database/users.json', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(users),\n    });\n}\n\n// Додаємо обробник до кнопки\naddToShoppingListButton.addEventListener('click', handleShoppingListButtonClick);\n\n// Функція для закриття модального вікна\nfunction closeModal() {\n    modal.classList.remove('open');\n    document.body.style.overflow = ''; // Відновлюємо прокрутку фону\n}\n\ncloseModalButton.addEventListener('click', closeModal);\nbackdrop.addEventListener('click', function (event) {\n    if (event.target === backdrop) {\n        closeModal();\n    }\n});\n\n// Закриваємо модальне вікно при натисканні на Escape\ndocument.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape') {\n        closeModal();\n    }\n});\n","window.openAboutWindow = openAboutWindow;\n// Шукаємо модальне вікно \"About\"\nconst modal = document.querySelectorAll('.modal')[1];\nconst backdrop = modal.querySelector('.modal-body');\nconst closeModalButton = modal.querySelector('.modal-close');\nfunction openAboutWindow() {\n  // Відображаємо вікно та блокуємо прокрутку фону\n  modal.classList.add('open');\n  document.body.style.overflow = 'hidden';\n}\n// Функція для закриття модального вікна\nfunction closeModal() {\n  modal.classList.remove('open');\n  document.body.style.overflow = ''; // Відновлюємо прокрутку фону\n}\ncloseModalButton.addEventListener('click', closeModal);\nbackdrop.addEventListener('click', function (event) {\n  if (event.target === backdrop) {\n    closeModal();\n  }\n});\n// Закриваємо модальне вікно при натисканні на Escape\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n});\n","window.openFeedbackWindow = openFeedbackWindow;\n\n// Шукаємо модальне вікно \"Feedback\"\nconst feedbackModal = document.querySelectorAll('.modal')[2];\nconst feedbackBackdrop = feedbackModal.querySelector('.modal-body');\nconst closeFeedbackModalButton = feedbackModal.querySelector('.modal-close');\n\nfunction openFeedbackWindow() {\n  // Відображаємо вікно та блокуємо прокрутку фону\n  feedbackModal.classList.add('open');\n  document.body.style.overflow = 'hidden';\n}\n\n// Функція для закриття модального вікна\nfunction closeFeedbackModal() {\n  feedbackModal.classList.remove('open');\n  document.body.style.overflow = ''; // Відновлюємо прокрутку фону\n}\n\ncloseFeedbackModalButton.addEventListener('click', closeFeedbackModal);\nfeedbackBackdrop.addEventListener('click', function (event) {\n  if (event.target === feedbackBackdrop) {\n    closeFeedbackModal();\n  }\n});\n\n// Закриваємо модальне вікно при натисканні на Escape\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    closeFeedbackModal();\n  }\n});\n\n// Додавання обробника форми\nconst feedbackForm = document.getElementById('feedback-form');\nfeedbackForm.addEventListener('submit', function (event) {\n  event.preventDefault(); // Запобігаємо перезавантаженню сторінки\n  alert('Thank you for your feedback!');\n  closeFeedbackModal();\n});\n","window.openReviewsWindow = openReviewsWindow;\n\n// Шукаємо модальне вікно \"About\"\nconst modal = document.querySelectorAll('.modal')[3];\nconst backdrop = modal.querySelector('.modal-body');\nconst closeModalButton = modal.querySelector('.modal-close');\n\nfunction openReviewsWindow() {\n  // Відображаємо вікно та блокуємо прокрутку фону\n  modal.classList.add('open');\n  document.body.style.overflow = 'hidden';\n}\n// Функція для закриття модального вікна\nfunction closeModal() {\n  modal.classList.remove('open');\n  document.body.style.overflow = ''; // Відновлюємо прокрутку фону\n}\ncloseModalButton.addEventListener('click', closeModal);\nbackdrop.addEventListener('click', function (event) {\n  if (event.target === backdrop) {\n    closeModal();\n  }\n});\n// Закриваємо модальне вікно при натисканні на Escape\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n});\n","function updateAuthUI() {\n    const authLink = document.getElementById(\"authLink\");\n    const authImage = document.getElementById(\"authImage\");\n    const isLoggedIn = !!localStorage.getItem(\"activeUser\");\n\n      console.log(\"update login\");\n\n    if (isLoggedIn) {\n        authLink.textContent = \"LOGOUT\"; // Змінюємо текст на LOGOUT\n        authLink.href = \"#\"; // Вимикаємо перехід\n        authImage.querySelector(\"img\").src = \"./img/logout.svg\"; // Змінюємо іконку\n        authLink.addEventListener(\"click\", logoutUser);\n    } else {\n        authLink.textContent = \"LOGIN\"; // Змінюємо текст на LOGIN\n        authLink.href = \"auth.html\"; // Посилання на сторінку авторизації\n        authImage.querySelector(\"img\").src = \"./img/login.svg\"; // Відновлюємо іконку\n        authLink.removeEventListener(\"click\", logoutUser);\n    }\n}\n\nfunction logoutUser(event) {\n    event.preventDefault();\n    localStorage.removeItem(\"activeUser\"); // Видаляємо ID користувача\n    alert(\"Ви успішно вийшли з системи.\");\n    window.location.reload(); // Перезавантажуємо сторінку\n}\n\n// Виклик функції при завантаженні сторінки\ndocument.addEventListener(\"DOMContentLoaded\", updateAuthUI);\n"],"names":["scrollTopButton","categories","getAllCategories","topGames","getBooksByTags","createGameCard","game","loadGames","categoryName","games","categoryElement","loader","gamesHTML","gamesListElement","fetchAndDisplayGames","createCategoryContainer","container","titleDiv","loaderDiv","titleSpan","gamesDiv","ul","button","scrollFuc","event","item","effect","fetchAndDisplayCategories","topGamesList","category","categoryContainer","categoryButtons","mainTitle","allCategoriesButton","btn","checkAndActivateAllCategories","resetCategories","selectedCategory","aside","getGamesByCategory","gameCard","li","openModal","modal","backdrop","closeModalButton","addToShoppingListButton","underButtonText","id","getGameByID","renderGameDetails","isInList","isGameInShoppingList","updateShoppingListButton","error","gameCover","gameTitle","gameAuthor","gameDescription","steamLink","trailerLink","activeUserId","user","isGameInList","buttonText","handleShoppingListButtonClick","users","userIndex","saveUsersToJSON","closeModal","openAboutWindow","openFeedbackWindow","feedbackModal","feedbackBackdrop","closeFeedbackModalButton","closeFeedbackModal","feedbackForm","openReviewsWindow","updateAuthUI","authLink","authImage","isLoggedIn","logoutUser"],"mappings":"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"}